(()=>{"use strict";const t=window.React,e=window.wp.hooks,a=window.wp.compose,r=window.wp.blockEditor,o=window.wp.components,l=window.wp.element;(0,e.addFilter)("blocks.registerBlockType","custom-block-attributes/add-attributes",(t=>(t.attributes={...t.attributes,dataAttributes:{type:"array",default:[],source:"meta"}},t.supports={...t.supports,customClassName:!0,html:!0},t))),(0,e.addFilter)("blocks.getSaveContent.extraProps","custom-block-attributes/save-props",((t,e,a)=>(a.dataAttributes&&a.dataAttributes.forEach((e=>{e.name&&e.value&&(t[`data-${e.name}`]=e.value)})),t)));const n=(0,a.createHigherOrderComponent)((e=>a=>{const{attributes:n,setAttributes:s}=a,[i,u]=(0,l.useState)(""),[c,m]=(0,l.useState)(""),d=n.dataAttributes||[];return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,{...a}),(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(o.PanelBody,{title:"Custom Data Attributes",initialOpen:!1},d.map(((e,a)=>(0,t.createElement)("div",{key:a,style:{marginBottom:"10px"}},(0,t.createElement)("div",null,"data-",e.name,": ",e.value,(0,t.createElement)(o.Button,{isDestructive:!0,onClick:()=>(t=>{const e=d.filter(((e,a)=>a!==t));s({dataAttributes:e})})(a),style:{marginLeft:"10px"}},"Remove"))))),(0,t.createElement)(o.TextControl,{label:"Attribute Name",value:i,onChange:u,placeholder:"Enter attribute name"}),(0,t.createElement)(o.TextControl,{label:"Attribute Value",value:c,onChange:m,placeholder:"Enter attribute value"}),(0,t.createElement)(o.Button,{isPrimary:!0,onClick:()=>{if(!i)return;const t=[...d,{name:i,value:c}];s({dataAttributes:t}),u(""),m("")},disabled:!i},"Add Attribute"))))}),"withCustomAttributes");(0,e.addFilter)("editor.BlockEdit","custom-block-attributes/with-custom-attributes",n)})();